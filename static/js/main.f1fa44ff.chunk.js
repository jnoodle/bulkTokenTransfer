(this["webpackJsonpmulti-sender-app"]=this["webpackJsonpmulti-sender-app"]||[]).push([[0],{171:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"EscapeHatchCalled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"stateMutability":"payable","type":"fallback","payable":true},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address payable","name":"_escapeHatchDestination","type":"address"}],"name":"escapeHatch","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable[]","name":"_addresses","type":"address[]"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"multiTransferEqual_L1R","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"payable","type":"function","payable":true},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address[]","name":"_addresses","type":"address[]"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"multiTransferTokenEqual_71p","outputs":[],"stateMutability":"payable","type":"function","payable":true},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address payable[]","name":"_addresses","type":"address[]"},{"internalType":"uint256[]","name":"_amounts","type":"uint256[]"},{"internalType":"uint256","name":"_amountSum","type":"uint256"},{"internalType":"uint256[]","name":"_amountsEther","type":"uint256[]"}],"name":"multiTransferTokenEther","outputs":[],"stateMutability":"payable","type":"function","payable":true},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address payable[]","name":"_addresses","type":"address[]"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"uint256","name":"_amountEther","type":"uint256"}],"name":"multiTransferTokenEtherEqual","outputs":[],"stateMutability":"payable","type":"function","payable":true},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"address[]","name":"_addresses","type":"address[]"},{"internalType":"uint256[]","name":"_amounts","type":"uint256[]"},{"internalType":"uint256","name":"_amountSum","type":"uint256"}],"name":"multiTransferToken_a4A","outputs":[],"stateMutability":"payable","type":"function","payable":true},{"inputs":[{"internalType":"address payable[]","name":"_addresses","type":"address[]"},{"internalType":"uint256[]","name":"_amounts","type":"uint256[]"}],"name":"multiTransfer_OST","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"payable","type":"function","payable":true},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"_address1","type":"address"},{"internalType":"uint256","name":"_amount1","type":"uint256"},{"internalType":"address payable","name":"_address2","type":"address"},{"internalType":"uint256","name":"_amount2","type":"uint256"}],"name":"transfer2","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"payable","type":"function","payable":true},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive","payable":true},{"inputs":[],"name":"emergencyStop","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},261:function(e,t){},295:function(e,t){},309:function(e,t){},326:function(e,t){},328:function(e,t){},344:function(e,t){},345:function(e,t){},437:function(e,t){},438:function(e,t){},498:function(e,t){},50:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"who","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_name","type":"string"},{"name":"_symbol","type":"string"},{"name":"_decimals","type":"uint8"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},500:function(e,t){},518:function(e,t){},520:function(e,t){},531:function(e,t){},533:function(e,t){},611:function(e){e.exports=JSON.parse("{}")},677:function(e,t){},683:function(e,t,n){},689:function(e,t,n){},721:function(e,t,n){"use strict";n.r(t);var r,a=n(1),s=n.n(a),o=n(32),i=n.n(o),c=n(4),l=n.n(c),u=n(9),d=n(6),p=n(8),h=n(15),b=n(14),m=n(25),f=(n(288),n(12)),x=n.n(f),j=n(97),y=n.n(j),v=null,k=null,O=function(){return k||(k=new Promise((function(e,t){null===v?window.addEventListener("load",(function(){if(!window.hasOwnProperty("ethereum")){return console.log("No web3 instance injected, using Local web3."),console.error("Metamask not found"),void t({message:"Metamask is not installed. Please go to\n          https://metamask.io and return to this page after you installed it"})}var n=new y.a(y.a.givenProvider);n.eth.net.getId().then((function(r){var a,s,o;switch(console.log("netId",r),r=""+r){case"1":a="Mainnet",s="api",o="https://etherscan.io",console.log("This is Foundation",r);break;case"3":a="Ropsten",s="ropsten",o="https://ropsten.etherscan.io",console.log("This is Ropsten",r);break;case"4":a="Rinkeby",s="rinkeby",o="https://rinkeby.etherscan.io",console.log("This is Rinkeby",r);break;case"42":a="Kovan",s="kovan",o="https://kovan.etherscan.io",console.log("This is Kovan",r);break;case"99":a="POA Core",s="poa",o="https://poaexplorer.com",console.log("This is Core",r);break;case"77":a="POA Sokol",s="https://trust-sokol.herokuapp.com",o="https://sokol.poaexplorer.com",console.log("This is Sokol",r);break;case"137":a="Matic",s="api",o="https://polygonscan.com",console.log("This is Matic",r);break;case"80001":a="Mumbai",s="mumbai",o="https://mumbai.polygonscan.com",console.log("This is Mumbai",r);break;case"56":a="BSCMainnet",s="https://api.bscscan.com",o="https://bscscan.com",console.log("This is BSC Mainnet",r);break;case"97":a="BSCTestnet",s="https://api-testnet.bscscan.com",o="https://testnet.bscscan.com",console.log("This is BSC Testnet",r);break;default:a="Unknown",console.log("This is an unknown network.",r)}document.title="".concat(a," - BulkTokenTransfer"),new Promise((function(e,t){Object(u.a)(l.a.mark((function n(){var r,a,s;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=window,a=r.ethereum,n.next=4,a.request({method:"eth_requestAccounts"});case 4:s=n.sent,e(s),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0),t(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))()})).then((function(i){var c=i.length>0?i[0]:null,l=n.eth.defaultAccount||c||null;null!==l?(n.eth.estimateGas.__proto__&&n.eth.estimateGas.__proto__.call&&(console.log("typeof web3.eth.estimateGas.__proto__.call:",typeof n.eth.estimateGas.__proto__.call),n.eth.estimateGas.call=n.eth.estimateGas.__proto__.call,console.log("typeof web3.eth.estimateGas.call:",typeof n.eth.estimateGas.call)),e(v={web3Instance:n,netIdName:a,netId:r,injectedWeb3:!0,defaultAccount:l,trustApiName:s,explorerUrl:o})):t({message:"Please unlock your metamask and refresh the page"})})).catch((function(e){t(e)}))})).catch((function(e){t(e)})),console.log("Injected web3 detected."),ethereum.on("chainChanged",(function(e){return window.location.reload()})),ethereum.on("accountsChanged",(function(e){return window.location.reload()}))})):e(v)}))),k},g=n(0),S=Object(m.b)("UiStore")(r=Object(m.c)(r=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={multisenderAddress:null,myAddress:null,chain:null},e}return Object(p.a)(n,[{key:"formatAddress",value:function(e){return e?x.a.toChecksumAddress(e).replace(/(.{6}).*(.{6})/,"$1...$2"):""}},{key:"componentDidMount",value:function(){var e=this;Object(u.a)(l.a.mark((function t(){var n,r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.UiStore.tokenStore.proxyMultiSenderAddress();case 2:return n=t.sent,t.next=5,e.props.UiStore.web3Store.netIdName;case 5:return r=t.sent,t.next=8,e.props.UiStore.web3Store.defaultAccount;case 8:a=t.sent,console.log("myAddress",a),e.setState({multisenderAddress:n,chain:r,myAddress:a});case 11:case"end":return t.stop()}}),t)})))()}},{key:"render",value:function(){var e=this.props.UiStore.web3Store.explorerUrl||"https://etherscan.io";return Object(g.jsx)("header",{className:"header",children:Object(g.jsxs)("div",{className:"multisend-container",children:[Object(g.jsx)("a",{href:"#",className:"header-logo",children:"Bulk Token Transfer Tool"}),Object(g.jsxs)("form",{className:"form form_header",children:[this.state.myAddress?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("label",{className:"multisend-label",children:["Chain: ",this.state.chain]}),Object(g.jsxs)("label",{className:"multisend-label",children:["My Address:"," ",Object(g.jsx)("a",{target:"_blank",href:"".concat(e,"/address/").concat(this.state.myAddress),children:this.formatAddress(this.state.myAddress)})]}),Object(g.jsxs)("label",{className:"multisend-label",children:["Contract Address:"," ",Object(g.jsx)("a",{target:"_blank",href:"".concat(e,"/address/").concat(this.state.multisenderAddress),children:this.formatAddress(this.state.multisenderAddress)})]})]}):null,this.state.myAddress?null:Object(g.jsx)("label",{className:"multisend-label",children:Object(g.jsx)("a",{href:"#",onClick:function(){window.ethereum&&window.ethereum.request({method:"eth_requestAccounts"})},children:"Connect Wallet"})})]})]})})}}]),n}(s.a.Component))||r)||r,w=n(98),A=n(55),T=n(67),_=n(279),N=n(124),P=n.n(N),E=n(267),C=n.n(E),B=(n(610),n(268)),I=n(30),M=n.n(I);function G(e){var t=document.createElement("div");return t.innerHTML="".concat(e),t}n(611),n(612);var F,U,D=n(269),H=n.n(D),R=n(99),L=n(271),W=n.n(L),z=(n(683),["error","isChanged","isUsed"]),Y=(Object(B.control)((function(e){var t=e.error,n=e.isChanged,r=e.isUsed,a=Object(_.a)(e,z);return Object(g.jsxs)("div",{children:[n&&r&&t,Object(g.jsx)("input",Object(T.a)({},a))]})})),function(e){if(!e.toString().trim().length)return Object(g.jsx)("span",{className:"error",children:"required"})}),X=Object(m.b)("UiStore")(F=Object(m.c)(F=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).onNext=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("home"===t.step.id){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,setTimeout(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.tokenStore.parseAddresses();case 2:case"end":return e.stop()}}),e)}))),100),console.log("length of addresses",r.tokenStore.jsonAddresses.length),0!==r.tokenStore.jsonAddresses.length){e.next=8;break}return M()({title:"The address list is empty.",text:"Please make sure you set correct CSV or JSON format in input selector",icon:"error"}),e.abrupt("return");case 8:if(!(r.tokenStore.invalid_addresses.length>0)){e.next=11;break}return M()({title:"There are invalid eth addresses. If you click Next, it will remove them from the list.",text:JSON.stringify(r.tokenStore.invalid_addresses.slice(),null,"\n"),icon:"error"}),e.abrupt("return");case 11:t.push("inspect"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0),M()({title:"Parsing Error",text:e.t0.message,icon:"error"});case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),r.tokenStore=e.UiStore.tokenStore,r.txStore=e.UiStore.txStore,r.web3Store=e.UiStore.web3Store,r.web3Store.setStartedUrl("#/"),r.onTokenAddress=r.onTokenAddress.bind(Object(A.a)(r)),r.onDecimalsChange=r.onDecimalsChange.bind(Object(A.a)(r)),r.state={format:"csv",placeholder:"\n0xCBA5018De6b2b6F89d84A1F5A68953f07554765e,12\n0xa6Bf70bd230867c870eF13631D7EFf1AE8Ab85c9,1123.45645\n0x00b5F428905DEA1a67940093fFeaCeee58cA91Ae,1.049\n0x00fC79F38bAf0dE21E1fee5AC4648Bc885c1d774,14546\n",tokenAddress:{label:"",value:null},csv:""},r.onParse=r.onParse.bind(Object(A.a)(r)),r.parseCompleted=!1,r.props.addNextHandler(r.onNext),r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(""!==this.tokenStore.tokenAddress){var t=this.web3Store.userTokens.filter((function(t){return t.value===e.tokenStore.tokenAddress}));if(t.length>0){var n=t[0];this.setState({tokenAddress:Object(T.a)({},n)})}}if(this.tokenStore.jsonAddresses.length>0){var r=this.tokenStore.jsonAddresses.reduce((function(e,t){var n=Object.keys(t);return e+(n[0]+","+t[n[0]])+"\n"}),"");this.setState({csv:r})}}},{key:"onTokenAddress",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return this.setState({tokenAddress:{label:"",value:""}}),e.abrupt("return");case 3:if(n=t.value,!x.a.isAddress(n)){e.next=8;break}return e.next=7,this.tokenStore.setTokenAddress(n);case 7:this.setState({tokenAddress:{label:t.label,value:t.value}});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDecimalsChange",value:function(e){this.tokenStore.setDecimals(e.target.value)}},{key:"onCsvChange",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var a=[];H()({noheader:!0}).fromString(t).on("csv",(function(e){var t={};2===e.length&&e[0]&&e[1]&&(Object.defineProperty(t,e[0],{value:e[1],writable:!0,configurable:!0,enumerable:!0}),a.push(t))})).on("end",(function(){try{console.log("csv is done"),n.parseCompleted=!0,n.tokenStore.setJsonAddresses(a),e(a)}catch(t){console.error(t),r(t),M()({content:"Your CSV is invalid",icon:"error"})}}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onParse",value:function(e){this.setState({csv:e.target.value}),"csv"===this.state.format&&this.onCsvChange(e.target.value)}},{key:"render",value:function(){var e,t=this;return this.tokenStore.errors.length>0&&M()("Error!",this.tokenStore.errors.toString(),"error"),this.web3Store.errors.length>0&&M()("Error!",this.web3Store.errors.toString(),"error"),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"description",children:Object(g.jsxs)("ol",{children:[Object(g.jsx)("li",{children:"Select Token Address"}),Object(g.jsx)("li",{children:"Enter comma-separated list of addresses and values to send"}),Object(g.jsxs)("li",{children:["Press the ",Object(g.jsx)("strong",{children:"Next"})," button"]})]})}),Object(g.jsxs)(P.a,{className:"form",children:[Object(g.jsx)("div",{className:"form-inline",children:Object(g.jsxs)("div",{className:"form-inline-i form-inline-i_token-address",children:[Object(g.jsx)("label",{htmlFor:"token-address",className:"multisend-label",children:"Token Address"}),Object(g.jsx)(R.a.Creatable,{isLoading:this.web3Store.loading,name:"token-address",id:"token-address",value:this.state.tokenAddress,onChange:this.onTokenAddress,loadingPlaceholder:"Loading your token addresses...",placeholder:"Please select a token or input the address",options:this.web3Store.userTokens.slice()})]})}),Object(g.jsx)("div",{className:"form-inline",children:Object(g.jsxs)("div",{className:"form-inline-i form-inline-i_token-address-values",children:[Object(g.jsx)("label",{htmlFor:"token-address-values",className:"multisend-label",children:"List of addresses and values (Paste into textarea or upload a csv file)"}),Object(g.jsx)(C.a,(e={disabled:this.web3Store.loading,name:"token-address-values",id:"token-address-values","data-gram":!0,validations:[Y],placeholder:"Example(Address,TokenAmount): ".concat(this.state.placeholder),value:this.state.csv,onBlur:this.onParse},Object(w.a)(e,"id","addresses-with-balances"),Object(w.a)(e,"className","multisend-textarea"),e)),Object(g.jsx)(W.a,{onFileLoaded:function(e,n,r){console.log(e,n,r),e&&e.length>0&&(t.setState({csv:e.join("\n")}),t.onCsvChange(e.join("\n")))}})]})})]})]})}}]),n}(s.a.Component))||F)||F,V=n(728),J=(s.a.Component,n(17)),K=n.n(J),q=n(168),Q=n.n(q);Object(q.createTheme)("solarized",{text:{primary:"#fff",secondary:"rgb(156, 216, 255)",fontFamily:"monospace"},background:{default:"rgba(255,255,255,0)"},context:{background:"rgba(255,255,255,1)",text:"#FFFFFF"},divider:{default:"#073642"},button:{default:"rgba(156, 216, 255, 1)",focus:"rgba(156, 216, 255,.8)",hover:"rgba(156, 216, 255,.8)",disabled:"rgba(156, 216, 255, .5)"},sortFocus:{default:"rgba(156, 216, 255, .54)"}});var Z,$,ee,te,ne,re,ae,se,oe,ie,ce,le,ue,de,pe,he,be,me,fe,xe,je,ye,ve,ke,Oe,ge,Se,we,Ae,Te,_e=function(e){var t=[{name:"Address",selector:"address",sortable:!0,grow:3.8},{name:"Amount, "+e.tokenSymbol,selector:"balance",sortable:!0,left:!0}];return Object(g.jsx)(Q.a,{title:"List of recipients",columns:t,theme:"solarized",customStyles:{pagination:{style:{marginBottom:"20px"}},cells:{style:{fontFamily:"monospace"}}},pagination:!0,paginationPerPage:10,data:e.data,paginationTotalRows:e.data.length})},Ne=Object(m.b)("UiStore")(U=Object(m.c)(U=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).onNext=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("inspect"===t.step.id){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,!new K.a(r.tokenStore.totalBalance).gt(new K.a(r.tokenStore.defAccTokenBalance))){e.next=7;break}return console.error("Your balance is less than total to send"),M()({title:"Insufficient token balance",text:"You don't have enough tokens to send to all addresses.\nAmount needed: ".concat(r.tokenStore.totalBalance," ").concat(r.tokenStore.tokenSymbol),icon:"error"}),e.abrupt("return");case 7:if(n=r.getMultisendPlusApproveGasEthValue(),a=x.a.toWei(r.tokenStore.ethBalance,"ether"),!n.gt(new K.a(a))){e.next=14;break}return s=parseFloat(x.a.fromWei(n.toString())).toFixed(5),console.error("please fund you account in "),M()({title:"Insufficient ".concat(r.mainTokenName," balance"),text:"You don't have enough ".concat(r.mainTokenName," to send to all addresses. Amount needed: ").concat(s," ").concat(r.mainTokenName),icon:"error"}),e.abrupt("return");case 14:"0x000000000000000000000000000000000000bEEF"===r.tokenStore.tokenAddress||new K.a(r.tokenStore.allowance).gte(new K.a(r.tokenStore.totalBalance))?t.push("multisend"):t.push("approve"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),console.error(e.t0),M()({title:"Parsing Error",text:e.t0.message,icon:"error"});case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),r.onGasPriceChange=function(e){e&&(r.gasPriceStore.setSelectedGasPrice(e.value),r.updateCurrentFee())},r.onGasShareChange=function(e){e&&(r.gasPriceStore.setSelectedGasShare(e.value),r.updateCurrentFee())},r.tokenStore=e.UiStore.tokenStore,r.txStore=e.UiStore.txStore,r.web3Store=e.UiStore.web3Store,r.mainTokenName="97"===e.UiStore.web3Store.netId?"tBNB":"56"===e.UiStore.web3Store.netId?"BNB":"ETH",r.gasPriceStore=e.UiStore.gasPriceStore,console.log(r.gasPriceStore.gasPricesArray),r.state={gasPrice:"",transferGas:0,approveGas:0,multisendGas:0},r.gasSharesArray=[{label:"10%",value:"10"},{label:"20%",value:"20"},{label:"50%",value:"50"},{label:"70%",value:"70"},{label:"100%",value:"100"}],r.props.addNextHandler(r.onNext),r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.tokenStore.dublicates.length>0&&M()({title:"There were duplicated ".concat(this.mainTokenName," addresses in your list."),text:"".concat(JSON.stringify(this.tokenStore.dublicates.slice(),null,"\n"),".\n Multisender already combined the balances for those addreses. Please make sure it did the calculation correctly."),icon:"warning"}),Object(u.a)(l.a.mark((function t(){var n,r,a,s,o,i,c,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.txStore.getTransferGas({slice:e.tokenStore.totalNumberTx,addPerTx:e.tokenStore.arrayLimit});case 3:if(n=t.sent,e.setState({transferGas:n}),"0x000000000000000000000000000000000000bEEF"!==e.tokenStore.tokenAddress){t.next=14;break}return t.next=8,e.txStore.getMultisendGas({slice:e.tokenStore.totalNumberTx,addPerTx:e.tokenStore.arrayLimit});case 8:r=t.sent,a=Math.floor(.975*parseInt(r)),e.setState({multisendGas:a}),e.updateCurrentFee(),t.next=31;break;case 14:if(!(parseFloat(e.tokenStore.allowance)>=parseFloat(e.tokenStore.totalBalance))){t.next=26;break}return t.next=17,e.txStore.getMultisendGas({slice:e.tokenStore.totalNumberTx,addPerTx:e.tokenStore.arrayLimit});case 17:return s=t.sent,o=Math.floor(.71*parseInt(s)),t.next=21,e.txStore.getApproveTxGas();case 21:i=t.sent,e.setState({multisendGas:o,approveGas:i}),e.updateCurrentFee(),t.next=31;break;case 26:return t.next=28,e.txStore.getApproveGas();case 28:c=t.sent,u=Math.floor(.6667*parseInt(c)),e.setState({approveGas:u});case 31:t.next=36;break;case 33:t.prev=33,t.t0=t.catch(0),console.log("3:",t.t0);case 36:case"end":return t.stop()}}),t,null,[[0,33]])})))()}},{key:"updateCurrentFee",value:function(){var e=this,t=setTimeout((function(){clearTimeout(t),e._updateCurrentFeeImpl()}),0)}},{key:"_updateCurrentFeeImpl",value:function(){var e=this.state,t=e.multisendGas,n=e.approveGas,r=e.transferGas,a=this.gasPriceStore.standardInHex,s=new K.a(t).plus(new K.a(n));if(s.gt(new K.a(r)))this.tokenStore.setCurrentFee("0");else{var o=new K.a(r).minus(s),i=new K.a(a).times(o).div(this.tokenStore.totalNumberTx).times(new K.a(parseInt(this.gasPriceStore.selectedGasShare))).div(100).dp(0,1);this.tokenStore.setCurrentFee(i.toString(10))}}},{key:"renderTokenBalance",value:function(){if("0x000000000000000000000000000000000000bEEF"===this.tokenStore.tokenAddress)return null;var e=parseFloat(this.tokenStore.defAccTokenBalance),t=e.toFixed(5);return"0.00000"===t&&(t=e),Object(g.jsxs)("div",{className:"send-info-i",children:[Object(g.jsxs)("p",{children:["Balance, ",this.tokenStore.tokenSymbol]}),Object(g.jsx)("p",{className:"send-info-amount",children:t})]})}},{key:"renderTokenAllowance",value:function(){return"0x000000000000000000000000000000000000bEEF"===this.tokenStore.tokenAddress?null:Object(g.jsxs)("div",{className:"send-info-i",children:[Object(g.jsxs)("p",{children:["Allowance, ",this.tokenStore.tokenSymbol]}),Object(g.jsx)("p",{className:"send-info-amount",children:this.tokenStore.allowance})]})}},{key:"renderTransferGasInfo",value:function(){var e=this.gasPriceStore.standardInHex,t=new K.a(e).times(new K.a(this.state.transferGas)),n=parseFloat(x.a.fromWei(t.toString())).toFixed(5);return"0x000000000000000000000000000000000000bEEF"===this.tokenStore.tokenAddress||new K.a(this.tokenStore.allowance).gte(new K.a(this.tokenStore.totalBalance)),Object(g.jsxs)("div",{className:"send-info-i",children:[Object(g.jsxs)("p",{children:["Gas spent without Multisend, ",this.mainTokenName]}),Object(g.jsx)("p",{className:"send-info-amount",children:n})]})}},{key:"getMultisendPlusApproveGasEthValue",value:function(){var e=this.gasPriceStore.standardInHex,t=new K.a(this.state.multisendGas).plus(new K.a(this.state.approveGas));return new K.a(e).times(t)}},{key:"renderMultisendGasInfo",value:function(){var e=this.gasPriceStore.standardInHex,t=new K.a(this.state.multisendGas).plus(new K.a(this.state.approveGas)),n=new K.a(e).times(t),r=parseFloat(x.a.fromWei(n.toString())).toFixed(5);return"0x000000000000000000000000000000000000bEEF"===this.tokenStore.tokenAddress||new K.a(this.tokenStore.allowance).gte(new K.a(this.tokenStore.totalBalance))?Object(g.jsxs)("div",{className:"send-info-i",children:[Object(g.jsxs)("p",{children:["Gas spent with Multisend, ",this.mainTokenName]}),Object(g.jsx)("p",{className:"send-info-amount",children:r})]}):Object(g.jsxs)("div",{className:"send-info-i",children:[Object(g.jsxs)("p",{children:["Gas spent with Multisend, ",this.mainTokenName]}),Object(g.jsx)("p",{className:"send-info-amount",children:"N/A"})]})}},{key:"renderSavingsGasInfo",value:function(){var e=this.state,t=e.multisendGas,n=e.approveGas,r=e.transferGas,a=this.gasPriceStore.standardInHex,s=new K.a(a).times(new K.a(this.state.transferGas)),o=(x.a.fromWei(s.toString()),new K.a(t).plus(new K.a(n))),i=new K.a(a).times(o),c=(x.a.fromWei(i.toString()),new K.a(r).minus(o)),l=new K.a(a).times(c),u=parseFloat(x.a.fromWei(l.toString())).toFixed(5);return"0x000000000000000000000000000000000000bEEF"===this.tokenStore.tokenAddress||new K.a(this.tokenStore.allowance).gte(new K.a(this.tokenStore.totalBalance))?Object(g.jsxs)("div",{className:"send-info-i",children:[Object(g.jsxs)("p",{children:["Your gas savings, ",this.mainTokenName]}),Object(g.jsxs)("p",{className:"send-info-amount",children:["",u]})]}):Object(g.jsxs)("div",{className:"send-info-i",children:[Object(g.jsxs)("p",{children:["Your gas savings, ",this.mainTokenName]}),Object(g.jsx)("p",{className:"send-info-amount",children:"N/A"})]})}},{key:"render",value:function(){return console.log(this.web3Store.netId),Object(g.jsx)("div",{children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"description",children:[Object(g.jsxs)("ol",{children:[Object(g.jsx)("li",{children:"Verify addresses and values"}),Object(g.jsxs)("li",{children:["Press the ",Object(g.jsx)("strong",{children:"Next"})," button"]})]}),Object(g.jsxs)("p",{style:{display:"none"},children:[Object(g.jsx)("strong",{children:"Gas Sharing"})," is a portion of gas saved by this service that you are OK to tip"]})]}),Object(g.jsxs)(P.a,{className:"form",children:[Object(g.jsx)("div",{className:"form-inline",style:{display:"none"},children:Object(g.jsxs)("div",{className:"form-inline-i form-inline-i_gas-price",children:[Object(g.jsx)("label",{htmlFor:"gas-price",className:"multisend-label",children:"Network Speed (Gas Price)"}),Object(g.jsx)(R.a.Creatable,{isLoading:this.gasPriceStore.loading,name:"gas-price",id:"gas-price",value:this.gasPriceStore.selectedGasPrice,onChange:this.onGasPriceChange,loadingPlaceholder:"Fetching gas Price data ...",placeholder:"Please select desired network speed",options:this.gasPriceStore.gasPricesArray.slice()})]})}),Object(g.jsx)("div",{className:"form-inline",style:{display:"none"},children:Object(g.jsxs)("div",{className:"form-inline-i form-inline-i_gas-sharing",children:[Object(g.jsx)("label",{htmlFor:"gas-sharing",className:"multisend-label",children:"Saved Gas Sharing"}),Object(g.jsx)(R.a.Creatable,{isLoading:!1,name:"gas-sharing",id:"gas-sharing",value:this.gasPriceStore.selectedGasShare,onChange:this.onGasShareChange,loadingPlaceholder:"",placeholder:"Please select desired gas sharing",options:this.gasSharesArray.slice()})]})})]}),Object(g.jsxs)("div",{className:"send-info",style:{padding:"15px 0px"},children:[Object(g.jsxs)("div",{className:"send-info-side",children:[Object(g.jsxs)("div",{className:"send-info-i",children:[Object(g.jsxs)("p",{children:["Total to be Sent, ",this.tokenStore.tokenSymbol]}),Object(g.jsx)("p",{className:"send-info-amount",children:this.tokenStore.totalBalance})]}),this.renderTokenBalance(),Object(g.jsxs)("div",{className:"send-info-i",children:[Object(g.jsx)("p",{children:"Total Number of tx Needed"}),Object(g.jsx)("p",{className:"send-info-amount",children:this.tokenStore.totalNumberTx})]})]}),Object(g.jsxs)("div",{className:"send-info-side",children:[this.renderTokenAllowance(),Object(g.jsxs)("div",{className:"send-info-i",children:[Object(g.jsxs)("p",{children:["Balance, ",this.mainTokenName]}),Object(g.jsx)("p",{className:"send-info-amount",children:this.tokenStore.ethBalance})]})]})]}),Object(g.jsx)(_e,{data:this.tokenStore.addressesData,tokenSymbol:this.tokenStore.tokenSymbol})]})})}}]),n}(s.a.Component))||U)||U,Pe=Object(m.b)("UiStore")(Z=Object(m.c)(Z=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.tx,r=t.explorerUrl,a=n.name,s=n.hash,o=n.status;switch(o){case"mined":e="table-td_check-hash_done";break;case"error":e="table-td_check-hash_error";break;case"pending":e="table-td_check-hash_wait";break;default:e="table-td_check-hash_wait"}return Object(g.jsx)("div",{className:"table-tr",children:Object(g.jsxs)("div",{className:"table-td table-td_check-hash ".concat(e),children:["TxHash: ",Object(g.jsx)("a",{target:"_blank",href:"".concat(r,"/tx/").concat(s),children:s})," ",Object(g.jsx)("br",{})," ",a," ",Object(g.jsx)("br",{})," Status: ",o]})})}}]),n}(s.a.Component))||Z)||Z,Ee=Object(m.b)("UiStore")($=Object(m.c)($=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).onNext=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("approve"===t.step.id){e.next=2;break}return e.abrupt("return");case 2:t.push("inspect");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.props=e,r.txStore=e.UiStore.txStore,r.explorerUrl=e.UiStore.web3Store.explorerUrl,r.intervalId=null,r.state={txs:r.txStore.txs},r.props.addNextHandler(r.onNext),r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.txStore.doApprove();case 3:e.setState({txs:e.txStore.txs}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("doApprove error:",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))(),null===this.intervalId&&(this.intervalId=setInterval((function(){e.setState({txs:e.txStore.txs})}),1e3))}},{key:"componentWillUnmount",value:function(){null!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}},{key:"render",value:function(){var e,t=this,n=this.state.txs,r=n.map((function(e,n){return Object(g.jsx)(Pe,{tx:Object(T.a)({},e),explorerUrl:t.explorerUrl},n)})),a=n.reduce((function(e,t){var n=t.status;return e&&"mined"===n}),!0);return e=n.length>0?a?"Approve transaction is mined. Press the Next button to continue":"Approve transaction was sent out. Now wait until it is mined":"Waiting for you to sign an Approve transaction in Metamask",Object(g.jsx)("div",{children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"description",children:[Object(g.jsxs)("div",{children:["Sign an Approve transaction in MetaMask",Object(g.jsx)("br",{}),"to send tokens to many recipients from the Multisend smart contract"]}),Object(g.jsx)("p",{children:"\xa0"}),Object(g.jsxs)("ol",{children:[Object(g.jsx)("li",{children:"Confirm Approve transaction in MetaMask"}),Object(g.jsx)("li",{children:"Wait for the transaction to be mined"}),Object(g.jsxs)("li",{children:["Press the ",Object(g.jsx)("strong",{children:"Next"})," button"]})]})]}),Object(g.jsxs)("form",{className:"form",children:[Object(g.jsx)("p",{children:e}),Object(g.jsx)("div",{className:"table",children:r})]})]})})}}]),n}(s.a.Component))||$)||$,Ce=Object(m.b)("UiStore")(ee=Object(m.c)(ee=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).onNext=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("multisend"===t.step.id){e.next=2;break}return e.abrupt("return");case 2:location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.txStore=e.UiStore.txStore,r.tokenStore=e.UiStore.tokenStore,r.explorerUrl=e.UiStore.web3Store.explorerUrl,r.intervalId=null,r.state={txs:r.txStore.txs,totalNumberOftx:r.calcTotalNumberOftx()},r.doSendExecuted=!1,r.props.addNextHandler(r.onNext),r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.doSendExecuted){t.next=6;break}return e.doSendExecuted=!0,t.next=5,e.txStore.doSend();case 5:e.setState({txs:e.txStore.txs,totalNumberOftx:e.calcTotalNumberOftx()});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("doApprove error:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))(),null===this.intervalId&&(this.intervalId=setInterval((function(){e.setState({txs:e.txStore.txs,totalNumberOftx:e.calcTotalNumberOftx()})}),1e3))}},{key:"componentWillUnmount",value:function(){null!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}},{key:"calcTotalNumberOftx",value:function(){return Number(this.tokenStore.totalNumberTx)}},{key:"render",value:function(){var e,t=this,n=this.state,r=n.txs,a=n.totalNumberOftx,s=r.map((function(e,n){return Object(g.jsx)(Pe,{tx:Object(T.a)({},e),explorerUrl:t.explorerUrl},n)})),o=r.reduce((function(e,t){var n=t.status;return e&&"mined"===n}),!0);if(r.length===a)e=o?"All transactions are mined. Congratulations!":"Transactions were sent out. Now wait until all transactions are mined.";else{var i=a-r.length;e="Waiting for you to sign transaction in Metamask (Don't close)",a>1&&(e="Waiting for you to sign ".concat(i," transactions in Metamask (Don't close)"))}var c="Sign a multisend transaction in MetaMask";a>1&&(c="Sign all ".concat(a," multisend transactions in MetaMask"));var l="to send tokens to many recipients from the Multisend smart contract";return"ETH"===this.tokenStore.tokenSymbol&&(l="to send ETH to many recipients from the Multisend smart contract"),Object(g.jsx)("div",{children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"description",children:[Object(g.jsxs)("div",{children:[c,Object(g.jsx)("br",{}),l]}),Object(g.jsx)("p",{children:"\xa0"}),Object(g.jsxs)("ol",{children:[Object(g.jsx)("li",{children:"Confirm all multisend transactions in MetaMask"}),Object(g.jsx)("li",{children:"Wait for all transactions to be mined"}),Object(g.jsx)("li",{children:"Check transactions on etherscan"}),Object(g.jsxs)("li",{children:["Press the ",Object(g.jsx)("strong",{children:"Next"})," button"]})]})]}),Object(g.jsxs)("form",{className:"form",children:[Object(g.jsx)("p",{children:e}),Object(g.jsx)("div",{className:"table",children:s})]})]})})}}]),n}(s.a.Component))||ee)||ee,Be=(s.a.Component,Object(m.b)("UiStore")(te=Object(m.c)(te=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).onTxInput=r.onTxInput.bind(Object(A.a)(r)),r.txStore=e.UiStore.txStore,r.state={txHash:""},r}return Object(p.a)(n,[{key:"onTxInput",value:function(e){var t=this,n=e.target.value;setTimeout(Object(u.a)(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(66!==n.length){e.next=8;break}return e.next=3,t.txStore.getTxReceipt(n);case 3:r=e.sent,console.log(r),t.setState({txHash:n}),e.next=9;break;case 8:M()({content:G("Tx Hash is not valid"),icon:"error"});case 9:case"end":return e.stop()}}),e)}))),750)}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"multisend-container multisend-container_bg container_opacity",children:Object(g.jsxs)("div",{className:"content",children:[Object(g.jsxs)("div",{className:"table",children:[Object(g.jsx)("label",{htmlFor:"txhash",className:"multisend-label",children:"Transaction Hash"}),Object(g.jsx)("input",{onChange:this.onTxInput,type:"text",className:"input",id:"txhash"}),Object(g.jsxs)("div",{className:"table-tr table-tr_title",children:[Object(g.jsx)("div",{className:"table-td",children:"Token Name"}),Object(g.jsx)("div",{className:"table-td",children:"Address"}),Object(g.jsx)("div",{className:"table-td",children:"Amount"})]}),Object(g.jsxs)("div",{className:"table-tr",children:[Object(g.jsx)("div",{className:"table-td",children:Object(g.jsx)("p",{children:"Name 1"})}),Object(g.jsx)("div",{className:"table-td",children:Object(g.jsx)("p",{className:"break-all",children:"0xc6300135a8fcd43123bb486ff06831b5345d0971"})}),Object(g.jsx)("div",{className:"table-td",children:Object(g.jsx)("p",{children:"2.5672 ETH"})})]}),Object(g.jsxs)("div",{className:"table-tr",children:[Object(g.jsx)("div",{className:"table-td",children:Object(g.jsx)("p",{children:"Name 2"})}),Object(g.jsx)("div",{className:"table-td",children:Object(g.jsx)("p",{className:"break-all",children:"0x0a7772cdbeee6dbdfdf944dd3e11d32d6a183bde"})}),Object(g.jsx)("div",{className:"table-td",children:Object(g.jsx)("p",{children:"8.009 ETH"})})]})]}),Object(g.jsx)(V.a,{className:"button button_next",to:"/",children:"Back to Home"})]})})}}]),n}(s.a.Component))||te),s.a.Component,n(730)),Ie=n(731),Me=n(733),Ge=n(729),Fe=(n(689),n(49)),Ue=function(){return Object(g.jsx)(Fe.WithWizard,{render:function(e){var t=e.next,n=e.previous,r=e.step;e.steps,e.push;return Object(g.jsxs)("div",{className:"multisend-buttons",children:["home"!==r.id&&"multisend"!==r.id&&Object(g.jsx)("button",{className:"multisend-button multisend-button_prev",onClick:n,children:"Back"}),"multisend"===r.id&&Object(g.jsx)("button",{className:"multisend-button multisend-button_prev",onClick:t,children:"Home"}),"multisend"!==r.id&&Object(g.jsx)("button",{className:"multisend-button multisend-button_next",onClick:t,children:"Next"})]})}})},De=n(278),He=n(275),Re=Object(m.b)("UiStore")(ne=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).onNext=function(e){Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r.nextHandlers.forEach(function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(n){console.log("onNext:",n)}case 1:case"end":return t.stop()}}),t)})))()},r.addNextHandler=function(e){r.nextHandlers.push(e)},r.tokenStore=e.UiStore.tokenStore,r.web3Store=e.UiStore.web3Store,r.nextHandlers=[],r.state={loading:r.web3Store.loading},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.tokenStore.proxyMultiSenderAddress();case 3:e.setState((function(t,n){return{loading:e.web3Store.loading}})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("App:",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},{key:"render",value:function(){var e=this,t=this.web3Store.startedUrl;return"#/"!==t&&"#/home"!==t?(this.web3Store.setStartedUrl("#/"),Object(g.jsx)(Be.a,{to:{pathname:"/"}})):Object(g.jsxs)("div",{children:[Object(g.jsx)(S,{}),Object(g.jsx)(Ie.a,{render:function(t){var n=t.history;return Object(g.jsx)(Fe.Wizard,{history:n,onNext:e.onNext,render:function(t){var n=t.step,r=t.steps;return Object(g.jsx)("div",{className:"multisend-container multisend-container_bg",children:Object(g.jsxs)("div",{className:"content",children:[Object(g.jsx)("h1",{className:"title",children:Object(g.jsx)("strong",{children:"Welcome to Bulk Token Transfer Tool"})}),Object(g.jsx)(De.a,{percent:(r.indexOf(n)+1)/r.length*100,className:"pad-b"}),Object(g.jsx)("div",{className:"sweet-loading",children:Object(g.jsx)(He.PulseLoader,{color:"#123abc",loading:e.state.loading})}),Object(g.jsx)(Me.a,{children:Object(g.jsx)(Ge.a,{classNames:"multisend",timeout:{enter:500,exit:500},children:Object(g.jsxs)(Fe.Steps,{step:n.id?n:void 0,children:[Object(g.jsx)(Fe.Step,{id:"home",children:Object(g.jsx)(X,{addNextHandler:e.addNextHandler})}),Object(g.jsx)(Fe.Step,{id:"inspect",children:Object(g.jsx)(Ne,{addNextHandler:e.addNextHandler})}),Object(g.jsx)(Fe.Step,{id:"approve",children:Object(g.jsx)(Ee,{addNextHandler:e.addNextHandler})}),Object(g.jsx)(Fe.Step,{id:"multisend",children:Object(g.jsx)(Ce,{addNextHandler:e.addNextHandler})})]},n.id)},n.id)}),Object(g.jsx)(Ue,{})]})})}})}})]})}}]),n}(s.a.Component))||ne,Le=n(732),We=n(19),ze=n(11),Ye=(n(123),n(7)),Xe=(re=function(){function e(t){Object(d.a)(this,e),Object(We.a)(this,"web3",ae,this),Object(We.a)(this,"defaultAccount",se,this),Object(We.a)(this,"loading",oe,this),Object(We.a)(this,"errors",ie,this),Object(We.a)(this,"userTokens",ce,this),Object(We.a)(this,"explorerUrl",le,this),Object(We.a)(this,"startedUrl",ue,this),this.userTokensInitialized=!1}return Object(p.a)(e,[{key:"setExplorerUrl",value:function(e){this.explorerUrl=e}},{key:"setStartedUrl",value:function(e){this.startedUrl=e}},{key:"getWeb3Promise",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O().then(function(){var e=Object(u.a)(l.a.mark((function e(n){var r,a,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t.explorerUrl){e.next=2;break}return e.abrupt("return",t);case 2:return r=n.web3Instance,a=n.defaultAccount,s=n.netId,o=n.netIdName,t.defaultAccount=a,t.web3=r,t.netId=s,t.netIdName=o,e.next=9,t.getUserTokens(n);case 9:return t.setExplorerUrl(n.explorerUrl),console.log("web3 loaded"),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw console.error(e,"web3 not loaded"),t.errors.push(e.message),e})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserTokens",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.trustApiName,r=t.defaultAccount,e.abrupt("return",new Promise((function(e,t){if(a.userTokensInitialized)e(a);else{var s=a.netIdName.toLowerCase(),o="",i="";"mumbai"===s||"matic"===s?(o="polygonscan.com",i="XXX"):(o="etherscan.io",i="SW6C9RYH2XFVGND6KTVUQ92A74A9CHGCYI");var c="https://api".concat("mainnet"===s||"matic"===s?"":"-"+s,".").concat(o);s.indexOf("bsc")>-1&&(c=n,i="T9EIR5H21RBIV5T2RP1HRZ3HEYV51E1351"),window.fetch("".concat(c,"/api?module=account&action=tokentx&address=").concat(r,"&startblock=0&endblock=999999999&sort=desc&apikey=").concat(i)).then((function(e){return e.json()})).then((function(n){if(!n.result||"object"!==typeof n.result||!n.result.hasOwnProperty("length"))return a.loading=!1,void t("Failed to load user tokens. Try again a minute later please.");for(var o=n.result.filter((function(e){return!(!e.hasOwnProperty("to")||e.to.toLowerCase()!=r.toLowerCase())&&(!!e.hasOwnProperty("contractAddress")&&(!!e.hasOwnProperty("tokenName")&&(!!e.hasOwnProperty("tokenSymbol")&&!!e.hasOwnProperty("tokenDecimal"))))})).map((function(e){var t=e.contractAddress,n=(e.tokenName,e.tokenSymbol);e.tokenDecimal;return{label:"".concat(n," - ").concat(t),value:t,tokenSymbol:n}})),i={},c=0;c<o.length;c++){var l=o[c];i[l.value]=l}var u=Object.keys(i).map((function(e){return i[e]}));"mumbai"===s||"matic"===s?u.unshift({value:"0x000000000000000000000000000000000000bEEF",label:"MATIC - Polygon Native Currency"}):s.indexOf("bsc")>-1?u.unshift({value:"0x000000000000000000000000000000000000bEEF",label:"BNB - BSC Native Currency"}):u.unshift({value:"0x000000000000000000000000000000000000bEEF",label:"ETH - Ethereum Native Currency"}),a.userTokens=u,a.userTokensInitialized=!0,a.loading=!1,e(a)})).catch((function(e){a.loading=!1,console.error(e),t(e)}))}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ae=Object(ze.a)(re.prototype,"web3",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),se=Object(ze.a)(re.prototype,"defaultAccount",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),oe=Object(ze.a)(re.prototype,"loading",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ie=Object(ze.a)(re.prototype,"errors",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=Object(ze.a)(re.prototype,"userTokens",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=Object(ze.a)(re.prototype,"explorerUrl",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ue=Object(ze.a)(re.prototype,"startedUrl",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.location.hash}}),Object(ze.a)(re.prototype,"setExplorerUrl",[Ye.c],Object.getOwnPropertyDescriptor(re.prototype,"setExplorerUrl"),re.prototype),Object(ze.a)(re.prototype,"setStartedUrl",[Ye.c],Object.getOwnPropertyDescriptor(re.prototype,"setStartedUrl"),re.prototype),re),Ve=n(50),Je=n(17);var Ke,qe,Qe,Ze,$e,et,tt,nt,rt,at=(de=function(){function e(t){Object(d.a)(this,e),Object(We.a)(this,"decimals",pe,this),Object(We.a)(this,"jsonAddresses",he,this),Object(We.a)(this,"tokenAddress",be,this),Object(We.a)(this,"defAccTokenBalance",me,this),Object(We.a)(this,"allowance",fe,this),Object(We.a)(this,"currentFee",xe,this),Object(We.a)(this,"tokenSymbol",je,this),Object(We.a)(this,"ethBalance",ye,this),Object(We.a)(this,"balances_to_send",ve,this),Object(We.a)(this,"addresses_to_send",ke,this),Object(We.a)(this,"invalid_addresses",Oe,this),Object(We.a)(this,"filteredAddresses",ge,this),Object(We.a)(this,"totalBalance",Se,this),Object(We.a)(this,"arrayLimit",we,this),Object(We.a)(this,"errors",Ae,this),Object(We.a)(this,"dublicates",Te,this),this.web3Store=t.web3Store,this.gasPriceStore=t.gasPriceStore}return Object(p.a)(e,[{key:"proxyMultiSenderAddress",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.web3Store.getWeb3Promise();case 3:return t=e.sent,n="REACT_APP_PROXY_MULTISENDER_"+t.netIdName.toUpperCase(),r=Object({NODE_ENV:"production",PUBLIC_URL:"/bulkTokenTransfer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROXY_MULTISENDER_MAINNET:"0xCD5485b34c9902527bbEE21F69312fe2A73bc802",REACT_APP_PROXY_MULTISENDER_ROPSTEN:"0x59e610F647c64146D666C972DDf9eCB5900877f3",REACT_APP_PROXY_MULTISENDER_RINKEBY:"0xBb8135f7131350A5bD368717Af6a9d457B301399",REACT_APP_PROXY_MULTISENDER_GOERLI:"0x068F8339905E65DA559cB6066E0d9F94C3E3b979",REACT_APP_PROXY_MULTISENDER_KOVAN:"0x068F8339905E65DA559cB6066E0d9F94C3E3b979",REACT_APP_PROXY_MULTISENDER_ETHERSCAN_API_KEY:"SW6C9RYH2XFVGND6KTVUQ92A74A9CHGCYI",REACT_APP_PROXY_MULTISENDER_MUMBAI:"0xc09c2c427636D596F28B55eA35CDfC09D5200cf9",REACT_APP_PROXY_MULTISENDER_MATIC:"0x9d034E6A52271170F311e6b01CDF62D70e3bb0BB",REACT_APP_PROXY_MULTISENDER_POLYSCAN_API_KEY:"XXX",REACT_APP_PROXY_MULTISENDER_BSCMAINNET:"0x4e0de36724271cB105C72E3307e365BfDa70F09A",REACT_APP_PROXY_MULTISENDER_BSCTESTNET:"0xb3A002622b30b6b1bB1d86fa965FF729CFb09B8E",REACT_APP_PROXY_MULTISENDER_BSCSCAN_API_KEY:"T9EIR5H21RBIV5T2RP1HRZ3HEYV51E1351"})[n],e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.abrupt("return","");case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getDecimals",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===this.decimals){e.next=2;break}return e.abrupt("return",this.decimals);case 2:return e.prev=2,n=this.web3Store.web3,r=new n.eth.Contract(Ve,t),e.next=7,r.methods.decimals().call();case 7:return this.decimals=e.sent,e.abrupt("return",this.decimals);case 11:e.prev=11,e.t0=e.catch(2),this.errors.push("Cannot get decimals for token contract.\n Please make sure you are on the right network and token address exists"),console.error("Get Decimals",e.t0);case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===this.defAccTokenBalance){e.next=2;break}return e.abrupt("return",this.defAccTokenBalance);case 2:return e.prev=2,t=this.web3Store.web3,n=new t.eth.Contract(Ve,this.tokenAddress),e.next=7,n.methods.balanceOf(this.web3Store.defaultAccount).call();case 7:return r=e.sent,this.defAccTokenBalance=new Je(r).div(this.multiplier).toString(10),t.eth.subscribe("newBlockHeaders",function(){var e=Object(u.a)(l.a.mark((function e(t,r){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return console.log(t),e.abrupt("return");case 3:return e.next=5,n.methods.balanceOf(a.web3Store.defaultAccount).call();case 5:s=e.sent,a.defAccTokenBalance=new Je(s).div(a.multiplier).toString(10);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",this.defAccTokenBalance);case 13:e.prev=13,e.t0=e.catch(2),this.errors.push("".concat(this.web3Store.defaultAccount," doesn't have token balance.\n Please make sure you are on the right network and token address exists")),console.error("getBalance",e.t0);case 17:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"getEthBalance",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===this.ethBalance){e.next=2;break}return e.abrupt("return",this.ethBalance);case 2:return e.prev=2,t=this.web3Store.web3,e.next=6,t.eth.getBalance(this.web3Store.defaultAccount);case 6:return n=e.sent,n=x.a.fromWei(n),this.ethBalance=new Je(n).toFormat(3),t.eth.subscribe("newBlockHeaders",function(){var e=Object(u.a)(l.a.mark((function e(n,a){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return console.log(n),e.abrupt("return");case 3:return e.next=5,t.eth.getBalance(r.web3Store.defaultAccount);case 5:s=e.sent,s=x.a.fromWei(s),r.ethBalance=new Je(s).toFormat(3);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",this.ethBalance);case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0);case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTokenSymbol",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===this.tokenSymbol){e.next=2;break}return e.abrupt("return",this.tokenSymbol);case 2:return e.prev=2,n=this.web3Store.web3,r=new n.eth.Contract(Ve,t),e.next=7,r.methods.symbol().call();case 7:return this.tokenSymbol=e.sent,e.abrupt("return",this.tokenSymbol);case 11:e.prev=11,e.t0=e.catch(2),this.errors.push("Token with this Address doesnt exist.\n Please make sure you are on the right network and token address exists"),console.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllowance",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===this.allowance){e.next=2;break}return e.abrupt("return",this.allowance);case 2:return e.prev=2,t=this.web3Store.web3,n=new t.eth.Contract(Ve,this.tokenAddress),e.t0=n.methods,e.t1=this.web3Store.defaultAccount,e.next=9,this.proxyMultiSenderAddress();case 9:return e.t2=e.sent,e.next=12,e.t0.allowance.call(e.t0,e.t1,e.t2).call();case 12:return r=e.sent,this.allowance=new Je(r).div(this.multiplier).toString(10),t.eth.subscribe("newBlockHeaders",function(){var e=Object(u.a)(l.a.mark((function e(t,r){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return console.log(t),e.abrupt("return");case 3:return e.t0=n.methods,e.t1=a.web3Store.defaultAccount,e.next=7,a.proxyMultiSenderAddress();case 7:return e.t2=e.sent,e.next=10,e.t0.allowance.call(e.t0,e.t1,e.t2).call();case 10:s=e.sent,a.allowance=new Je(s).div(a.multiplier).toString(10);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",this.allowance);case 18:e.prev=18,e.t3=e.catch(2),this.errors.push("Token address doesn't have allowance method.\n Please make sure you are on the right network and token address exists.\n\n         Your account: ".concat(this.web3Store.defaultAccount)),console.error("GetAllowance",e.t3);case 22:case"end":return e.stop()}}),e,this,[[2,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"getCurrentFee",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.currentFee);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCurrentFee",value:function(e){this.currentFee=x.a.fromWei(e)}},{key:"getArrayLimit",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.arrayLimit=200,e.abrupt("return",this.arrayLimit);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setTokenAddress",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3Store.getWeb3Promise();case 2:return e.next=4,this.getCurrentFee();case 4:return e.next=6,this.getEthBalance();case 6:return e.next=8,this.getArrayLimit();case 8:if(this.decimals="",this.defAccTokenBalance="",this.allowance="",this.tokenSymbol="",!x.a.isAddress(this.web3Store.defaultAccount)||"0x000000000000000000000000000000000000bEEF"===t){e.next=24;break}return this.tokenAddress=t,e.next=16,this.getDecimals(t);case 16:return e.next=18,this.getBalance();case 18:return e.next=20,this.getAllowance();case 20:return e.next=22,this.getTokenSymbol(t);case 22:e.next=28;break;case 24:this.tokenAddress=t,this.tokenSymbol="ETH",this.decimals=18,this.defAccTokenBalance=this.ethBalance;case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setDecimals",value:function(e){this.decimals=e}},{key:"setJsonAddresses",value:function(e){console.log("setJsonAddresses",e),this.jsonAddresses=e}},{key:"reset",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.decimals="",this.jsonAddresses=[],this.tokenAddress="",this.defAccTokenBalance="",this.allowance="",this.currentFee="0",this.tokenSymbol="",this.ethBalance="",this.balances_to_send=[],this.addresses_to_send=[],this.invalid_addresses=[],this.filteredAddresses=[],this.totalBalance="0",this.arrayLimit=0,this.errors=[],this.dublicates=[];case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parseAddresses",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.addresses_to_send=[],this.dublicates=[],this.totalBalance=0,this.invalid_addresses=[],this.balances_to_send=[],e.abrupt("return",new Promise((function(e,n){try{t.jsonAddresses.forEach((function(e,r){0===Object.keys(e).length&&n({message:"There was an error parsing ".concat(JSON.stringify(e)," at line ").concat(r)});var a=Object.keys(e)[0].replace(/\s/g,"").replace("0X","0x");if(a=x.a.toChecksumAddress(a),x.a.isAddress(a)){var s=Object.values(e)[0];t.totalBalance=new Je(s).plus(t.totalBalance).toString(10),s=t.multiplier.times(s);var o=t.addresses_to_send.indexOf(a);-1===o?(t.addresses_to_send.push(a),t.balances_to_send.push(s.toString(10))):(-1===t.dublicates.indexOf(a)&&t.dublicates.push(a),t.balances_to_send[o]=new Je(t.balances_to_send[o]).plus(s).toString(10))}else t.invalid_addresses.push(a)})),t.jsonAddresses=t.addresses_to_send.map((function(e,n){var r={};return r[e]=new Je(t.balances_to_send[n]).div(t.multiplier).toString(10),r})),e(t.jsonAddresses),"0x000000000000000000000000000000000000bEEF"===t.tokenAddress&&(t.allowance=t.totalBalance)}catch(r){n(r)}})));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"totalBalanceWithDecimals",get:function(){return new Je(this.totalBalance).times(this.multiplier).toString(10)}},{key:"multiplier",get:function(){var e=Number(this.decimals);return new Je(10).pow(e)}},{key:"totalNumberTx",get:function(){return Math.ceil(this.jsonAddresses.length/this.arrayLimit)}},{key:"addressesData",get:function(){return this.jsonAddresses.map((function(e){return{address:Object.keys(e)[0].replace(/\s/g,""),balance:Object.values(e)[0]}}))}}]),e}(),pe=Object(ze.a)(de.prototype,"decimals",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),he=Object(ze.a)(de.prototype,"jsonAddresses",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=Object(ze.a)(de.prototype,"tokenAddress",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),me=Object(ze.a)(de.prototype,"defAccTokenBalance",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fe=Object(ze.a)(de.prototype,"allowance",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),xe=Object(ze.a)(de.prototype,"currentFee",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"0"}}),je=Object(ze.a)(de.prototype,"tokenSymbol",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ye=Object(ze.a)(de.prototype,"ethBalance",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ve=Object(ze.a)(de.prototype,"balances_to_send",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ke=Object(ze.a)(de.prototype,"addresses_to_send",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oe=Object(ze.a)(de.prototype,"invalid_addresses",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=Object(ze.a)(de.prototype,"filteredAddresses",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Se=Object(ze.a)(de.prototype,"totalBalance",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"0"}}),we=Object(ze.a)(de.prototype,"arrayLimit",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ae=Object(ze.a)(de.prototype,"errors",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=Object(ze.a)(de.prototype,"dublicates",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(ze.a)(de.prototype,"getDecimals",[Ye.c],Object.getOwnPropertyDescriptor(de.prototype,"getDecimals"),de.prototype),Object(ze.a)(de.prototype,"getAllowance",[Ye.c],Object.getOwnPropertyDescriptor(de.prototype,"getAllowance"),de.prototype),Object(ze.a)(de.prototype,"getCurrentFee",[Ye.c],Object.getOwnPropertyDescriptor(de.prototype,"getCurrentFee"),de.prototype),Object(ze.a)(de.prototype,"setTokenAddress",[Ye.c],Object.getOwnPropertyDescriptor(de.prototype,"setTokenAddress"),de.prototype),Object(ze.a)(de.prototype,"setDecimals",[Ye.c],Object.getOwnPropertyDescriptor(de.prototype,"setDecimals"),de.prototype),Object(ze.a)(de.prototype,"setJsonAddresses",[Ye.c],Object.getOwnPropertyDescriptor(de.prototype,"setJsonAddresses"),de.prototype),Object(ze.a)(de.prototype,"reset",[Ye.c],Object.getOwnPropertyDescriptor(de.prototype,"reset"),de.prototype),Object(ze.a)(de.prototype,"parseAddresses",[Ye.c],Object.getOwnPropertyDescriptor(de.prototype,"parseAddresses"),de.prototype),Object(ze.a)(de.prototype,"totalBalanceWithDecimals",[Ye.d],Object.getOwnPropertyDescriptor(de.prototype,"totalBalanceWithDecimals"),de.prototype),Object(ze.a)(de.prototype,"multiplier",[Ye.d],Object.getOwnPropertyDescriptor(de.prototype,"multiplier"),de.prototype),Object(ze.a)(de.prototype,"totalNumberTx",[Ye.d],Object.getOwnPropertyDescriptor(de.prototype,"totalNumberTx"),de.prototype),Object(ze.a)(de.prototype,"addressesData",[Ye.d],Object.getOwnPropertyDescriptor(de.prototype,"addressesData"),de.prototype),de),st=(Ke=function(){function e(t){Object(d.a)(this,e),Object(We.a)(this,"gasPrices",qe,this),Object(We.a)(this,"loading",Qe,this),Object(We.a)(this,"gasPricesArray",Ze,this),Object(We.a)(this,"selectedGasPrice",$e,this),Object(We.a)(this,"selectedGasShare",et,this),this.gasPricePromise=null,this.getGasPrices()}return Object(p.a)(e,[{key:"getGasPrices",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.gasPricePromise=fetch("https://blockscout.com/eth/mainnet/api/v1/gas-price-oracle").then((function(e){return e.json()})).then((function(e){t.gasPricesArray.map((function(t){return t.value=e[t.label],t.label="".concat(t.label,": ").concat(e[t.label]," gwei"),t})),t.selectedGasPrice=e.fast,t.gasPrices=e,t.loading=!1})).catch((function(e){t.loading=!0,console.error("getGasPrices",e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"standardInHex",get:function(){console.log("standardInHex",this.selectedGasPrice);var e=x.a.toWei((+this.selectedGasPrice).toFixed(),"gwei");return x.a.toHex(e)}},{key:"setSelectedGasPrice",value:function(e){this.selectedGasPrice=e}},{key:"setSelectedGasShare",value:function(e){this.selectedGasShare=e}}]),e}(),qe=Object(ze.a)(Ke.prototype,"gasPrices",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Qe=Object(ze.a)(Ke.prototype,"loading",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ze=Object(ze.a)(Ke.prototype,"gasPricesArray",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{label:"fast",value:"21"},{label:"standard",value:"21"},{label:"slow",value:"21"},{label:"instant",value:"21"}]}}),$e=Object(ze.a)(Ke.prototype,"selectedGasPrice",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"22"}}),et=Object(ze.a)(Ke.prototype,"selectedGasShare",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"10"}}),Object(ze.a)(Ke.prototype,"standardInHex",[Ye.d],Object.getOwnPropertyDescriptor(Ke.prototype,"standardInHex"),Ke.prototype),Object(ze.a)(Ke.prototype,"setSelectedGasPrice",[Ye.c],Object.getOwnPropertyDescriptor(Ke.prototype,"setSelectedGasPrice"),Ke.prototype),Object(ze.a)(Ke.prototype,"setSelectedGasShare",[Ye.c],Object.getOwnPropertyDescriptor(Ke.prototype,"setSelectedGasShare"),Ke.prototype),Ke),ot=n(171),it=n(17),ct=(tt=function(){function e(t){Object(d.a)(this,e),Object(We.a)(this,"txs",nt,this),this.txHashToIndex={},Object(We.a)(this,"approval",rt,this),this.tokenStore=t.tokenStore,this.web3Store=t.web3Store,this.gasPriceStore=t.gasPriceStore,this.interval=null}return Object(p.a)(e,[{key:"reset",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.txs=[],this.txHashToIndex={},this.approval="",this.keepRunning=!1,clearInterval(this.interval);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"doSend",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.keepRunning=!0,this.txs=[],this.approval="",new it(""===this.tokenStore.totalBalance?"0":this.tokenStore.totalBalance).gt(new it(""===this.tokenStore.allowance?"0":this.tokenStore.allowance))?(this._approve(),t=setInterval((function(){if(n.approval){var e=n.txHashToIndex[n.approval];console.log("checking autorun",e,n.approval,n.txHashToIndex,Object(Ye.k)(n.txs)),n.txs[e]&&"mined"===n.txs[e].status&&(clearInterval(t),console.log("lets GO!",n.tokenStore.totalNumberTx,n.tokenStore.arrayLimit),setTimeout((function(){n._multisend({slice:n.tokenStore.totalNumberTx,addPerTx:n.tokenStore.arrayLimit})}),1e3))}else console.log("checking autorun",n.txHashToIndex,Object(Ye.k)(n.txs))}),3e3),this.interval=t):this._multisend({slice:this.tokenStore.totalNumberTx,addPerTx:this.tokenStore.arrayLimit});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"doApprove",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.keepRunning=!0,this.txs=[],this.approval="",new it(""===this.tokenStore.totalBalance?"0":this.tokenStore.totalBalance).gt(new it(""===this.tokenStore.allowance?"0":this.tokenStore.allowance))&&(this._approve(),t=setInterval((function(){if(n.approval){var e=n.txHashToIndex[n.approval];console.log("checking autorun",e,n.approval,n.txHashToIndex,Object(Ye.k)(n.txs)),n.txs[e]&&"mined"===n.txs[e].status&&(clearInterval(t),console.log("Approve complete"))}else console.log("checking autorun",n.txHashToIndex,Object(Ye.k)(n.txs))}),3e3),this.interval=t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_approve",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r,a,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.txs.length,n=this.web3Store.web3,e.next=4,n.eth.getGasPrice();case 4:return r=e.sent,a=new n.eth.Contract(Ve,this.tokenStore.tokenAddress),e.prev=6,e.t0=a.methods,e.next=10,this.tokenStore.proxyMultiSenderAddress();case 10:return e.t1=e.sent,e.t2=this.tokenStore.totalBalanceWithDecimals,e.abrupt("return",e.t0.approve.call(e.t0,e.t1,e.t2).send({from:this.web3Store.defaultAccount,gasPrice:r}).once("transactionHash",(function(e){s.approval=e,s.txHashToIndex[e]=t,s.txs[t]={status:"pending",name:"MultiSender Approval to spend ".concat(s.tokenStore.totalBalance," ").concat(s.tokenStore.tokenSymbol),hash:e}})).once("receipt",function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getTxStatus(t.transactionHash);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e){M()("Error!",e.message,"error"),console.error(e)})));case 15:e.prev=15,e.t3=e.catch(6),console.error(e.t3);case 18:case"end":return e.stop()}}),e,this,[[6,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"getApproveGas",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.web3Store.web3,n=new t.eth.Contract(Ve,this.tokenStore.tokenAddress),e.t0=n.methods,e.next=5,this.tokenStore.proxyMultiSenderAddress();case 5:return e.t1=e.sent,e.t2=this.tokenStore.totalBalanceWithDecimals,e.next=9,e.t0.approve.call(e.t0,e.t1,e.t2).encodeABI({from:this.web3Store.defaultAccount});case 9:return r=e.sent,e.abrupt("return",t.eth.estimateGas({from:this.web3Store.defaultAccount,data:r,to:this.tokenStore.tokenAddress}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getTransferGas",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.web3Store.web3,"0x000000000000000000000000000000000000bEEF"!==this.tokenStore.tokenAddress){e.next=6;break}return e.abrupt("return",r.eth.estimateGas({from:this.web3Store.defaultAccount,value:n,to:t}));case 6:return a=new r.eth.Contract(Ve,this.tokenStore.tokenAddress),e.next=9,a.methods.transfer(t,n).encodeABI({from:this.web3Store.defaultAccount});case 9:return s=e.sent,e.next=12,r.eth.estimateGas({from:this.web3Store.defaultAccount,data:s,to:this.tokenStore.tokenAddress});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTransferGas",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r,a,s,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.tokenStore,r=n.addresses_to_send,a=n.balances_to_send,s=0;case 3:if(!(s<r.length)){e.next=13;break}return o=r[s],i=a[s],e.t0=t,e.next=9,this._getTransferGas(o,i);case 9:t=e.t0+=e.sent;case 10:s++,e.next=3;break;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMultisendGas",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,a,s,o,i,c,u,d,p,h,b,m,f,j,y,v,k,O,g;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.slice,r=t.addPerTx,a=0,s=this.tokenStore.tokenAddress,o=this.tokenStore,i=o.addresses_to_send,c=o.balances_to_send,u=o.currentFee,o.totalBalance,d=(n-1)*r,p=n*r,i=i.slice(d,p),c=c.slice(d,p),h=c.reduce((function(e,t){return e.plus(new it(t))}),new it("0")),b=h.toString(10),"0x000000000000000000000000000000000000bEEF"===s?(f=x.a.fromWei(h.toString()),m=new it(u).plus(f)):m=new it(u),console.log("getMultisendGas slice",n,i[0],c[0],r),j=this.web3Store.web3,e.t0=j.eth.Contract,e.t1=ot,e.next=17,this.tokenStore.proxyMultiSenderAddress();case 17:if(e.t2=e.sent,y=new e.t0(e.t1,e.t2),"0x000000000000000000000000000000000000bEEF"!==s){e.next=39;break}return e.next=22,y.methods.multiTransfer_OST(i,c).encodeABI({from:this.web3Store.defaultAccount});case 22:return v=e.sent,console.log("web3.eth.estimateGas:",j.eth.estimateGas),console.log("web3.eth:",j.eth),e.t3=j.eth,e.t4=this.web3Store.defaultAccount,e.t5=v,e.t6=x.a.toHex(x.a.toWei(m.toString())),e.next=31,this.tokenStore.proxyMultiSenderAddress();case 31:return e.t7=e.sent,e.t8={from:e.t4,data:e.t5,value:e.t6,to:e.t7},e.next=35,e.t3.estimateGas.call(e.t3,e.t8);case 35:k=e.sent,a+=k,e.next=63;break;case 39:return e.next=41,y.methods.multiTransferToken_a4A(s,i,c,b).encodeABI({from:this.web3Store.defaultAccount});case 41:return O=e.sent,console.log("encodedData",O),console.log("ethValue",m.toString()),e.prev=44,e.t9=j.eth,e.t10=this.web3Store.defaultAccount,e.t11=O,e.t12=x.a.toHex(x.a.toWei(m.toString())),e.next=51,this.tokenStore.proxyMultiSenderAddress();case 51:return e.t13=e.sent,e.t14={from:e.t10,data:e.t11,value:e.t12,to:e.t13},e.next=55,e.t9.estimateGas.call(e.t9,e.t14);case 55:g=e.sent,console.log("gas",g),a+=g,e.next=63;break;case 60:e.prev=60,e.t15=e.catch(44),console.error(e.t15);case 63:if(!(--n>0)){e.next=69;break}return e.t16=a,e.next=68,this.getMultisendGas({slice:n,addPerTx:r});case 68:a=e.t16+=e.sent;case 69:return e.abrupt("return",a);case 70:case"end":return e.stop()}}),e,this,[[44,60]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_multisend",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,a,s,o,i,c,d,p,h,b,m,f,j,y,v,k,O,g,S,w,A=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.slice,r=t.addPerTx,this.keepRunning){e.next=3;break}return e.abrupt("return");case 3:return a=this.tokenStore.tokenAddress,s=this.tokenStore,o=s.addresses_to_send,i=s.balances_to_send,c=s.currentFee,s.totalBalance,d=(n-1)*r,p=n*r,o=o.slice(d,p),i=i.slice(d,p),h=i.reduce((function(e,t){return e.plus(new it(t))}),new it("0")),b=h.toString(10),"0x000000000000000000000000000000000000bEEF"===a?(f=x.a.fromWei(h.toString()),m=new it(c).plus(f)):m=new it(c),console.log("_multisend slice",n,o[0],i[0],r),j=this.web3Store.web3,e.t0=j.eth.Contract,e.t1=ot,e.next=18,this.tokenStore.proxyMultiSenderAddress();case 18:if(e.t2=e.sent,y=new e.t0(e.t1,e.t2),e.prev=20,"0x000000000000000000000000000000000000bEEF"!==a){e.next=43;break}return e.next=24,y.methods.multiTransfer_OST(o,i).encodeABI({from:this.web3Store.defaultAccount});case 24:return v=e.sent,e.t3=j.eth,e.t4=this.web3Store.defaultAccount,e.t5=v,e.t6=x.a.toHex(x.a.toWei(m.toString())),e.next=31,this.tokenStore.proxyMultiSenderAddress();case 31:return e.t7=e.sent,e.t8={from:e.t4,data:e.t5,value:e.t6,to:e.t7},e.next=35,e.t3.estimateGas.call(e.t3,e.t8);case 35:return k=e.sent,console.log("gas",k),e.next=39,j.eth.getGasPrice();case 39:O=e.sent,y.methods.multiTransfer_OST(o,i).send({from:this.web3Store.defaultAccount,gasPrice:O,gas:x.a.toHex(k),value:x.a.toHex(x.a.toWei(m.toString()))}).once("transactionHash",(function(e){A.txHashToIndex[e]=A.txs.length,A.txs.push({status:"pending",name:"Sending Batch #".concat(A.txs.length," ").concat(A.tokenStore.tokenSymbol,"\n\n            From ").concat(o[0].substring(0,7)," to: ").concat(o[o.length-1].substring(0,7),"\n          "),hash:e})})).once("receipt",function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getTxStatus(t.transactionHash);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e){M()("Error!",e.message,"error"),console.log(e)})),e.next=66;break;case 43:return e.next=45,y.methods.multiTransferToken_a4A(a,o,i,b).encodeABI({from:this.web3Store.defaultAccount});case 45:return g=e.sent,console.log("_multisend token_address",a),console.log("_multisend addresses_to_send",o),console.log("_multisend balances_to_send",i),console.log("_multisend balances_to_send_sum",b),console.log("_multisend encodedData",g),e.t9=j.eth,e.t10=this.web3Store.defaultAccount,e.t11=g,e.t12=x.a.toHex(x.a.toWei(m.toString())),e.next=57,this.tokenStore.proxyMultiSenderAddress();case 57:return e.t13=e.sent,e.t14={from:e.t10,data:e.t11,value:e.t12,to:e.t13},e.next=61,e.t9.estimateGas.call(e.t9,e.t14);case 61:return S=e.sent,e.next=64,j.eth.getGasPrice();case 64:w=e.sent,y.methods.multiTransferToken_a4A(a,o,i,b).send({from:this.web3Store.defaultAccount,gasPrice:w,gas:x.a.toHex(S),value:x.a.toHex(x.a.toWei(m.toString()))}).once("transactionHash",(function(e){A.txHashToIndex[e]=A.txs.length,A.txs.push({status:"pending",name:"Sending Batch #".concat(A.txs.length," ").concat(A.tokenStore.tokenSymbol,"\n\n            From ").concat(o[0].substring(0,7)," to: ").concat(o[o.length-1].substring(0,7),"\n          "),hash:e})})).once("receipt",function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getTxStatus(t.transactionHash);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e){M()("Error!",e.message,"error"),console.log(e)}));case 66:--n>0&&this._multisend({slice:n,addPerTx:r}),e.next=73;break;case 70:e.prev=70,e.t15=e.catch(20),console.error(e.t15);case 73:case"end":return e.stop()}}),e,this,[[20,70]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTxReceipt",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getTxReceipt"),e.prev=1,n=this.web3Store.web3,e.next=5,n.eth.getTransaction(t);case 5:return r=e.sent,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTxStatus",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("GET TX STATUS",t),this.keepRunning){e.next=3;break}return e.abrupt("return");case 3:return n=this.txHashToIndex[t],r=this.web3Store.web3,e.next=7,r.eth.getTransaction(t);case 7:return a=e.sent,e.next=10,r.eth.getTransactionReceipt(t);case 10:(s=e.sent).hasOwnProperty("status")?"0x1"===s.status?this.txs[n].status="mined":"0x0"===s.status||s.gasUsed>=a.gas?(this.txs[n].status="error",this.txs[n].name="Mined but with errors. Perhaps out of gas"):this.txs[n].status="mined":s.gasUsed>=a.gas?(this.txs[n].status="error",this.txs[n].name="Mined but with errors. Perhaps out of gas"):this.txs[n].status="mined";case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getApproveTxGas",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.approval){e.next=2;break}return e.abrupt("return",0);case 2:return t=this.web3Store.web3,e.next=5,t.eth.getTransactionReceipt(this.approval);case 5:return n=e.sent,e.abrupt("return",n.gasUsed);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),nt=Object(ze.a)(tt.prototype,"txs",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=Object(ze.a)(tt.prototype,"approval",[Ye.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(ze.a)(tt.prototype,"reset",[Ye.c],Object.getOwnPropertyDescriptor(tt.prototype,"reset"),tt.prototype),Object(ze.a)(tt.prototype,"doSend",[Ye.c],Object.getOwnPropertyDescriptor(tt.prototype,"doSend"),tt.prototype),Object(ze.a)(tt.prototype,"doApprove",[Ye.c],Object.getOwnPropertyDescriptor(tt.prototype,"doApprove"),tt.prototype),tt),lt=new function e(){Object(d.a)(this,e),this.gasPriceStore=new st,this.web3Store=new Xe(this),this.tokenStore=new at(this),this.txStore=new ct(this)},ut=Object(g.jsx)(m.a,{UiStore:lt,children:Object(g.jsx)(Le.a,{children:Object(g.jsx)(Re,{})})});i.a.render(ut,document.getElementById("wp-multisender-container"))}},[[721,1,2]]]);
//# sourceMappingURL=main.f1fa44ff.chunk.js.map